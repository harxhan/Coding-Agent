{
  "repo_id": "habit-tracker-backend",
  "root_path": "/path/to/repo",

  "metadata": {
    "language": "python",
    "python_version": "3.11",

    "external_dependencies": [
      "fastapi",
      "pydantic",
      "sqlalchemy",
      "alembic",
      "pytest"
    ],

    "app_type": "FastAPI Backend",
    "entrypoint_style": ["http_api"],

    "frameworks": ["fastapi"],
    "secondary_frameworks": ["alembic", "pytest"],

    "summary": "Backend service for habit tracking with authentication, persistence, and REST APIs"
  },

  "codebase": {
    "folders": [
      {
        "path": "auth/",
        "files": [
          "jwt.py",
          "dependencies.py"
        ],
        "summary": "Authentication and authorization logic",
        "responsibilities": [
          "JWT validation",
          "Dependency injection",
          "Security policies"
        ]
      },
      {
        "path": "database/",
        "files": [
          "models.py",
          "session.py"
        ],
        "summary": "Database models and session management",
        "responsibilities": [
          "ORM model definitions",
          "Database session lifecycle",
          "Data persistence"
        ]
      }
    ],

    "files": [
      {
        "path": "auth/jwt.py",

        "imports": {
          "internal": [
            "auth.utils",
            "auth.config"
          ],
          "external": [
            "jose",
            "fastapi"
          ]
        },

        "entry_points": [],

        "classes": [
          {
            "name": "UserCreate",
            "qualified_name": "auth.jwt.UserCreate",
            "symbol_type": "class",

            "class_type": "pydantic_model",
            "class_inherits_from": ["BaseModel"],

            "class_methods": [
              "to_domain",
              "validate_email"
            ],

            "used_by": [
              "create_user",
              "update_user"
            ],

            "imports_required": ["pydantic"],

            "code_range": {
              "start_line": 1,
              "end_line": 90
            },

            "summary": "Pydantic model representing user creation payload"
          }
        ],

        "functions": [
          {
            "name": "validate_jwt",
            "qualified_name": "auth.jwt.validate_jwt",
            "symbol_type": "function",
            "async": false,

            "calls": [
              "decode_token"
            ],

            "called_by": [
              "login_user"
            ],

            "used_as_callback_by": [
              {
                "used_by": "fastapi.Depends",
                "confidence": "high",
                "reason": "Passed directly as dependency"
              },
              {
                "used_by": "register_dependency",
                "confidence": "conditional",
                "reason": "Registered only when authentication is enabled"
              }
            ],

            "control_flow": [
              {
                "type": "if",
                "code_range": {
                  "start_line": 34,
                  "end_line": 52
                },
                "purpose": "Check token expiry and validity"
              },
              {
                "type": "try",
                "code_range": {
                  "start_line": 20,
                  "end_line": 30
                },
                "purpose": "Handle JWT decoding errors"
              }
            ],

            "code_range": {
              "start_line": 12,
              "end_line": 68
            },

            "summary": "Validates JWT token and extracts user identity"
          }
        ],

        "summary": "JWT validation helpers and token decoding utilities"
      }
    ]
  }
}
